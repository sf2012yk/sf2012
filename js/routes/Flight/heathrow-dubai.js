// London Dubai

// é£›è¡Œæ©Ÿã€€ãƒ­ãƒ³ãƒ‰ãƒ³â†’ãƒ‰ãƒã‚¤
const Heathrow_DXB = [51.46896718671588, -0.4574958618544679];
const Pt_LHRDXB_0_1 = [51.4674336860902, -0.457639498717778];//ãƒãƒƒã‚¯çµ‚äº†
const Pt_LHRDXB_1 = [51.46747360117958, -0.45328731083140583];//æ»‘èµ°è·¯ã¸ç§»å‹•
const Pt_LHRDXB_2 = [51.467567172128774, -0.4454338334503541];
const Pt_LHRDXB_3 = [51.46768046858134, -0.4404097053964724];
const Pt_LHRDXB_4 = [51.4675954962689, -0.43613578662834357];
const Pt_LHRDXB_5 = [51.46520204446755, -0.4359766513550621];//ãƒ’ãƒ¼ã‚¹ãƒ­ãƒ¼æ±å´é›¢é™¸åœ°ç‚¹
const Pt_LHRDXB_6 = [51.46497259383861, -0.43682563249112727];
const Pt_LHRDXB_7 = [51.46500091958851, -0.44032660850331795];//åŠ é€Ÿé–‹å§‹ or æ¸›é€Ÿçµ‚äº†
const Pt_LHRDXB_8 = [51.46505757103224, -0.4461918801409468];
const Pt_LHRDXB_9 = [51.4651708737065, -0.4563765378701569];
const Pt_LHRDXB_10 = [51.46514254806052, -0.4665157284314854];
const Pt_LHRDXB_11 = [51.464905791103554, -0.47957420925363653];
const Pt_LHRDXB_12 = [51.464952073043946, -0.4939121014653627]; //é›¢é™¸ or ç€é™¸
const Pt_LHRDXB_13 = [51.46490579104778, -0.522662176564234];
const Pt_LHRDXB_14 = [51.46462809838273, -0.566047301895314];//æ—‹å›žé–‹å§‹
const Pt_LHRDXB_15 = [51.45874987376765, -0.5874427056029573];
const Pt_LHRDXB_16 = [51.446342948378174, -0.5880370223785729];
const Pt_LHRDXB_17 = [51.43430315648372, -0.5838768049492638];//æ—‹å›žçµ‚äº†
const Pt_LHRDXB_18 = [51.418739338993454, -0.5526751723311081];
const Pt_LHRDXB_19 = [51.398535530588724, -0.5137474232931991];
const Pt_LHRDXB_20 = [51.36895515111256, -0.46174470484205293];//Weybridge
const Pt_LHRDXB_21 = [51.33554993817358, -0.4012729717918044];//cobham
const Pt_LHRDXB_22 = [51.29600090695578, -0.332115762357185];//Laatherhead
const Pt_LHRDXB_23 = [51.288246983890566, -0.28325060675479535];
const Pt_LHRDXB_24 = [51.292446137461404, -0.2342649330692267];
const Pt_LHRDXB_25 = [51.305584187765206, -0.15714989603227908];
const Pt_LHRDXB_26 = [51.3201630201483, -0.07562228359145765];//Kenley
const Pt_LHRDXB_27 = [51.332111580909135, -0.004180559442668759];
const Pt_LHRDXB_28 = [51.34458203155501, 0.06494981383669671];
const Pt_LHRDXB_29 = [51.36051514905681, 0.1567733007541153];//WellHill
const Pt_LHRDXB_30 = [51.35126138673969, 0.2613906460189252];
const Pt_LHRDXB_31 = [51.33715448643312, 0.3876829640579469];
const Pt_LHRDXB_32 = [51.32564300943031, 0.49584861938867314];
const Pt_LHRDXB_33 = [51.31338568067706, 0.6156034522905711];
const Pt_LHRDXB_34 = [51.301125076405405, 0.7294151166311363];
const Pt_LHRDXB_35 = [51.28793198081019, 0.8509528996483017];
const Pt_LHRDXB_36 = [51.27529278569212, 0.9704105732925663];
const Pt_LHRDXB_37 = [51.26172036681408, 1.0990801574760658];//Canterbury
const Pt_LHRDXB_38 = [51.24543640533084, 1.2256847364494858];
const Pt_LHRDXB_39 = [51.22541016890052, 1.395102989442428];//UK Last
const Pt_LHRDXB_40 = [51.20944552045866, 1.520542464212246];
const Pt_LHRDXB_41 = [51.195354468853374, 1.6454821773979889];
const Pt_LHRDXB_42 = [51.17875281256088, 1.774919721078692];
const Pt_LHRDXB_43 = [51.16465237185549, 1.8993596772962997];
const Pt_LHRDXB_44 = [51.14898015869631, 2.0297967388966214];
const Pt_LHRDXB_45 = [51.13110734184139, 2.1682299409676893];
const Pt_LHRDXB_46 = [51.11542373488023, 2.3096616972226336];
const Pt_LHRDXB_47 = [51.098793297425026, 2.44459658814169];//Dankerque
const Pt_LHRDXB_48 = [51.084040544785225, 2.59052617506951];
const Pt_LHRDXB_49 = [51.07210934624787, 2.733956967005543];
const Pt_LHRDXB_50 = [51.05797631631891, 2.8738894456051476];
const Pt_LHRDXB_51 = [51.04446738909828, 3.0163207201058886];
const Pt_LHRDXB_52 = [51.031268818934116, 3.152255127877065];
const Pt_LHRDXB_53 = [51.016494532140555, 3.310678686561331];
const Pt_LHRDXB_54 = [51.003287994167195, 3.4416155061972864];
const Pt_LHRDXB_55 = [50.99007769543429, 3.584546540226182];
const Pt_LHRDXB_56 = [50.97560495799218, 3.7234794994531843];//Gent
const Pt_LHRDXB_57 = [50.96270154093001, 3.8639117384309873];
const Pt_LHRDXB_58 = [50.94891974734614, 4.006969327807524];//Aalst
const Pt_LHRDXB_59 = [50.936888709713756, 4.145494468136024];
const Pt_LHRDXB_60 = [50.921965856878955, 4.287201000909078];
const Pt_LHRDXB_61 = [50.90993499829477, 4.427140619525523];//Brussel
const Pt_LHRDXB_62 = [50.89968403581988, 4.5699073015208205];
const Pt_LHRDXB_63 = [50.889653736293496, 4.7123206001228635];//Leuven
const Pt_LHRDXB_64 = [50.87962127632936, 4.851906836303582];
const Pt_LHRDXB_65 = [50.868694585000426, 4.995026901929768];
const Pt_LHRDXB_66 = [50.858657612039046, 5.1363800518826865];
const Pt_LHRDXB_67 = [50.84817224429649, 5.27737981949073];
const Pt_LHRDXB_68 = [50.838577183304366, 5.420499884963155];
const Pt_LHRDXB_69 = [50.8283105149456, 5.559732737806526];
const Pt_LHRDXB_70 = [50.81573098082249, 5.700151705116557];//Maastricht
const Pt_LHRDXB_71 = [50.805317804964446, 5.842287324371383];
const Pt_LHRDXB_72 = [50.79490230770237, 5.9840796220470125];
const Pt_LHRDXB_73 = [50.784484488605685, 6.124498629501479];//Aachen
const Pt_LHRDXB_74 = [50.77363012510048, 6.268350861792489];
const Pt_LHRDXB_75 = [50.76320756573483, 6.407739900944494];
const Pt_LHRDXB_76 = [50.7532171006845, 6.550562167139874];
const Pt_LHRDXB_77 = [50.74257273752465, 6.690981172971471];
const Pt_LHRDXB_78 = [50.732577867392386, 6.8310568565109];
const Pt_LHRDXB_79 = [50.71062512568163, 6.993448518022115];
const Pt_LHRDXB_80 = [50.685834427288555, 7.100221894391894];//Bonn
const Pt_LHRDXB_81 = [50.64296346733502, 7.227251314056968];
const Pt_LHRDXB_82 = [50.60288619851704, 7.351534151595731];
const Pt_LHRDXB_83 = [50.560375720406924, 7.474787020248076];
const Pt_LHRDXB_84 = [50.51913663212065, 7.60112979261272];
const Pt_LHRDXB_85 = [50.47742451304699, 7.725412630137905];
const Pt_LHRDXB_86 = [50.435019516425434, 7.850725435476651];
const Pt_LHRDXB_87 = [50.39410861158564, 7.976038240034521];
const Pt_LHRDXB_88 = [50.35140987344405, 8.100321078116506];
const Pt_LHRDXB_89 = [50.310207523181404, 8.225290560293933];
const Pt_LHRDXB_90 = [50.26874999340793, 8.350946687795835];//Waldems
const Pt_LHRDXB_91 = [50.22593848933971, 8.47660281571194];
const Pt_LHRDXB_92 = [50.18374804315338, 8.603975556888308];
const Pt_LHRDXB_93 = [50.14548073299809, 8.7289450383935];//Frankfurt
const Pt_LHRDXB_94 = [50.10938464330957, 8.855631134781826];
const Pt_LHRDXB_95 = [50.07414270752335, 8.983690521520328];
const Pt_LHRDXB_96 = [50.03777231247768, 9.109689973568758];
const Pt_LHRDXB_97 = [50.001153667712465, 9.236719392846789];
const Pt_LHRDXB_98 = [49.965390487130534, 9.366152071551552];//Rothenbuch
const Pt_LHRDXB_99 = [49.92815744024789, 9.493533899468764];
const Pt_LHRDXB_100 = [49.89167646457878, 9.620563315901684];
const Pt_LHRDXB_101 = [49.85649595912098, 9.749652672871084];
const Pt_LHRDXB_102 = [49.81951776685021, 9.874622155842973];
const Pt_LHRDXB_103 = [49.783145733745364, 10.003923096387265];//Wurzburg
const Pt_LHRDXB_104 = [49.74728549745815, 10.130604104695411];
const Pt_LHRDXB_105 = [49.70966566337761, 10.258276066286468];
const Pt_LHRDXB_106 = [49.67413520051779, 10.384493076187555];
const Pt_LHRDXB_107 = [49.63410293233987, 10.525259598024434];
const Pt_LHRDXB_108 = [49.59993173928195, 10.641291950692738];
const Pt_LHRDXB_109 = [49.563849256550306, 10.767872698692575];
const Pt_LHRDXB_110 = [49.52821227599589, 10.896635873148258];
const Pt_LHRDXB_111 = [49.49113168847737, 11.022852882833526];//Nurnberg
const Pt_LHRDXB_112 = [49.45142196491482, 11.163619404562494];
const Pt_LHRDXB_113 = [49.414756463484885, 11.286926513630329];
const Pt_LHRDXB_114 = [49.38114207507694, 11.399685227740724];
const Pt_LHRDXB_115 = [49.34489800416301, 11.522992333959731];
const Pt_LHRDXB_116 = [49.30862721524246, 11.650300558998754];
const Pt_LHRDXB_117 = [49.2718550499089, 11.774335141609491];
const Pt_LHRDXB_118 = [49.23410542318856, 11.89982467647852];
const Pt_LHRDXB_119 = [49.19771467051389, 12.02529027137964];
const Pt_LHRDXB_120 = [49.16133553499144, 12.15005233025261];
const Pt_LHRDXB_121 = [49.12397750971811, 12.275178127994085];
const Pt_LHRDXB_122 = [49.08849702976519, 12.39812149775459];
const Pt_LHRDXB_123 = [49.05132249315309, 12.522156082314908];
const Pt_LHRDXB_124 = [49.013404436971356, 12.647645616730712];
const Pt_LHRDXB_125 = [48.97808366968046, 12.772771413652078];
const Pt_LHRDXB_126 = [48.93963195924866, 12.898260948859226];
const Pt_LHRDXB_127 = [48.90306342072951, 13.021568056653726];
const Pt_LHRDXB_128 = [48.86575028207793, 13.147057591342909];
const Pt_LHRDXB_129 = [48.828888207649435, 13.272547126593222];
const Pt_LHRDXB_130 = [48.7919989953404, 13.398400399755236];
const Pt_LHRDXB_131 = [48.755322445106664, 13.519888818020007];
const Pt_LHRDXB_132 = [48.718379119144494, 13.64719704263459];
const Pt_LHRDXB_133 = [48.68164879752562, 13.771231626971892];
const Pt_LHRDXB_134 = [48.64786269436529, 13.89894766314408];
const Pt_LHRDXB_135 = [48.60837914200337, 14.024603789308301];
const Pt_LHRDXB_136 = [48.571590819648314, 14.148199981773827];
const Pt_LHRDXB_137 = [48.536594370528256, 14.272482821050891];
const Pt_LHRDXB_138 = [48.49747880868543, 14.39745230401598];
const Pt_LHRDXB_139 = [48.45969910210531, 14.522421783966205];
const Pt_LHRDXB_140 = [48.422346939894474, 14.64670462249635];
const Pt_LHRDXB_141 = [48.3877033368574, 14.775107329917734];
const Pt_LHRDXB_142 = [48.356230152177936, 14.898703523333893];
const Pt_LHRDXB_143 = [48.32793330556015, 15.02092642405045];
const Pt_LHRDXB_144 = [48.29596637220377, 15.147269196808924];
const Pt_LHRDXB_145 = [48.26352230973138, 15.272238678714741];
const Pt_LHRDXB_146 = [48.232532070165874, 15.401490951884716];
const Pt_LHRDXB_147 = [48.201563570672036, 15.525431145727511];
const Pt_LHRDXB_148 = [48.16990973923274, 15.651870136449979];//StPolten
const Pt_LHRDXB_149 = [48.13923686750142, 15.77880888940889];
const Pt_LHRDXB_150 = [48.10754455084807, 15.905747638572246];
const Pt_LHRDXB_151 = [48.07650049924019, 16.030187593880505];
const Pt_LHRDXB_152 = [48.0457718139326, 16.15462754656944];
const Pt_LHRDXB_153 = [48.01535908972692, 16.279567261366314];//Wien(Baden)
const Pt_LHRDXB_154 = [47.98292136771758, 16.406506011132613];
const Pt_LHRDXB_155 = [47.95113269463523, 16.529946449568982];
const Pt_LHRDXB_156 = [47.91932445595597, 16.65538592113631];
const Pt_LHRDXB_157 = [47.887496648378665, 16.78532322393991];//ãƒŽã‚¤ã‚¸ãƒ¼ãƒ‰ãƒ«æ¹–
const Pt_LHRDXB_158 = [47.858331909175284, 16.908763661990797];
const Pt_LHRDXB_159 = [47.824788943281455, 17.03420313474423];
const Pt_LHRDXB_160 = [47.79558891983701, 17.15864308833263];
const Pt_LHRDXB_161 = [47.76140794729465, 17.285148810178082];
const Pt_LHRDXB_162 = [47.730491586905124, 17.41258731594386];
const Pt_LHRDXB_163 = [47.6955205434842, 17.54752220840486];
const Pt_LHRDXB_164 = [47.66793067389567, 17.661966984170988];//Gyor
const Pt_LHRDXB_165 = [47.63637756935248, 17.787669563293164];
const Pt_LHRDXB_166 = [47.60437612599286, 17.91510806979037];
const Pt_LHRDXB_167 = [47.5726900587912, 18.040726397195325];
const Pt_LHRDXB_168 = [47.54233646563419, 18.16616587037379];
const Pt_LHRDXB_169 = [47.510277484653734, 18.291605342109143];
const Pt_LHRDXB_170 = [47.47988774230506, 18.417544575250652];
const Pt_LHRDXB_171 = [47.44834792803214, 18.540872057338365];
const Pt_LHRDXB_172 = [47.415555181901176, 18.6688103258249];
const Pt_LHRDXB_173 = [47.384772275867164, 18.792750522721924];
const Pt_LHRDXB_174 = [47.340426838551934, 18.91769023541346];//Budapest
const Pt_LHRDXB_175 = [47.30892233624205, 19.032634772259566];
const Pt_LHRDXB_176 = [47.26349571089615, 19.14258172162281];
const Pt_LHRDXB_177 = [47.21701173768348, 19.25202891131952];
const Pt_LHRDXB_178 = [47.172185680277856, 19.362475617710206];
const Pt_LHRDXB_179 = [47.12596165084439, 19.4739218424653];
const Pt_LHRDXB_180 = [47.08105870620408, 19.584368549310653];//1555
const Pt_LHRDXB_181 = [47.035096061900084, 19.69281622123602];
const Pt_LHRDXB_182 = [46.98773016122665, 19.803762687174622];
const Pt_LHRDXB_183 = [46.94271070329731, 19.9132098778301];
const Pt_LHRDXB_184 = [46.895945895187324, 20.02465610051938];
const Pt_LHRDXB_185 = [46.849140267361065, 20.13310377324536];
const Pt_LHRDXB_186 = [46.802977999996656, 20.244549998267328];
const Pt_LHRDXB_187 = [46.75677608930961, 20.3549967051028];
const Pt_LHRDXB_188 = [46.7105345304309, 20.46344437775959];
const Pt_LHRDXB_189 = [46.66493925722401, 20.574890602366416];
const Pt_LHRDXB_190 = [46.61793245465843, 20.68633682696336];
const Pt_LHRDXB_191 = [46.57157193007732, 20.797783051837058];
const Pt_LHRDXB_192 = [46.526890975627566, 20.906730482282374];
const Pt_LHRDXB_193 = [46.47907603374201, 21.014178637434693];
const Pt_LHRDXB_194 = [46.43294124180614, 21.124125583585563];
const Pt_LHRDXB_195 = [46.3867673613759, 21.23307301529606];
const Pt_LHRDXB_196 = [46.339864348933986, 21.347018035507507];
const Pt_LHRDXB_197 = [46.293957015919105, 21.45796450084317];//Arad
const Pt_LHRDXB_198 = [46.246974350908204, 21.56591241396192];
const Pt_LHRDXB_199 = [46.20018165305806, 21.675089032550083];
const Pt_LHRDXB_200 = [46.15453818812087, 21.787698897012827];
const Pt_LHRDXB_201 = [46.10838078842555, 21.895502243260395];
const Pt_LHRDXB_202 = [46.060755343836014, 22.00673881544454];
const Pt_LHRDXB_203 = [46.01404251771671, 22.11728874001589];
const Pt_LHRDXB_204 = [45.967767464010045, 22.21822563004457];
const Pt_LHRDXB_205 = [45.91810999323791, 22.336328658651304];
const Pt_LHRDXB_206 = [45.87462322089749, 22.445505292234195];
const Pt_LHRDXB_207 = [45.82631780559745, 22.560175093369768];
const Pt_LHRDXB_208 = [45.78036485794527, 22.665231856649044];
const Pt_LHRDXB_209 = [45.733415460626375, 22.776468426714626];
const Pt_LHRDXB_210 = [45.68594687689967, 22.88564506465686];
const Pt_LHRDXB_211 = [45.63603747123426, 23.001001510173058];
const Pt_LHRDXB_212 = [45.58992776176285, 23.106058273275785];
const Pt_LHRDXB_213 = [45.54426105062073, 23.21798151516779];
const Pt_LHRDXB_214 = [45.49518808300538, 23.32715815236309];
const Pt_LHRDXB_215 = [45.44703578092625, 23.439081369987136];//Cimpa
const Pt_LHRDXB_216 = [45.40077086698566, 23.551691233241225];
const Pt_LHRDXB_217 = [45.3525379304594, 23.65812128680279];
const Pt_LHRDXB_218 = [45.30522973684546, 23.767297923033873];
const Pt_LHRDXB_219 = [45.259815364362225, 23.877847847605224];
const Pt_LHRDXB_220 = [45.211946026536665, 23.9904577124754];
const Pt_LHRDXB_221 = [45.16306807630956, 24.099634349616377];
const Pt_LHRDXB_222 = [45.1151172750611, 24.210184274853177];
const Pt_LHRDXB_223 = [45.06809606458434, 24.320047556211836];//RamnicuValcea
const Pt_LHRDXB_224 = [45.02103614094025, 24.42922419206267];
const Pt_LHRDXB_225 = [44.97490900190792, 24.539087472525004];
const Pt_LHRDXB_226 = [44.92631400216067, 24.65101069097748];
const Pt_LHRDXB_227 = [44.878164423470146, 24.762247263732004];
const Pt_LHRDXB_228 = [44.83240931979215, 24.871423899053195];//Pitesti
const Pt_LHRDXB_229 = [44.78418112718947, 24.980600534496613];
const Pt_LHRDXB_230 = [44.73396151925578, 25.087717233891905];
const Pt_LHRDXB_231 = [44.685651047685084, 25.205133616759962];
const Pt_LHRDXB_232 = [44.63925460271758, 25.309503734219064];
const Pt_LHRDXB_233 = [44.589887134059474, 25.42417353387437];
const Pt_LHRDXB_234 = [44.540477699419554, 25.531976876468793];
const Pt_LHRDXB_235 = [44.492985566363494, 25.644586742248848];
const Pt_LHRDXB_236 = [44.46897998046673, 25.77779596927062];
const Pt_LHRDXB_237 = [44.42290079929306, 25.885599314662628];
const Pt_LHRDXB_238 = [44.37384049284647, 26.000955757693607];//Bucuresti
const Dubai_LHR = [25.24916816381139, 55.361520925952654];

const LHRtoDXB = L.polyline([
Heathrow_DXB,Pt_LHRDXB_0_1,
Pt_LHRDXB_1,Pt_LHRDXB_2,Pt_LHRDXB_3,Pt_LHRDXB_4,Pt_LHRDXB_5,Pt_LHRDXB_6,Pt_LHRDXB_7,Pt_LHRDXB_8,Pt_LHRDXB_9,Pt_LHRDXB_10,
Pt_LHRDXB_11,Pt_LHRDXB_12,Pt_LHRDXB_13,Pt_LHRDXB_14,Pt_LHRDXB_15,Pt_LHRDXB_16,Pt_LHRDXB_17,Pt_LHRDXB_18,Pt_LHRDXB_19,Pt_LHRDXB_20,
Pt_LHRDXB_21,Pt_LHRDXB_22,Pt_LHRDXB_23,Pt_LHRDXB_24,Pt_LHRDXB_25,Pt_LHRDXB_26,Pt_LHRDXB_27,Pt_LHRDXB_28,Pt_LHRDXB_29,Pt_LHRDXB_30,
Pt_LHRDXB_31,Pt_LHRDXB_32,Pt_LHRDXB_33,Pt_LHRDXB_34,Pt_LHRDXB_35,Pt_LHRDXB_36,Pt_LHRDXB_37,Pt_LHRDXB_38,Pt_LHRDXB_39,Pt_LHRDXB_40,
Pt_LHRDXB_41,Pt_LHRDXB_42,Pt_LHRDXB_43,Pt_LHRDXB_44,Pt_LHRDXB_45,Pt_LHRDXB_46,Pt_LHRDXB_47,Pt_LHRDXB_48,Pt_LHRDXB_49,Pt_LHRDXB_50,
Pt_LHRDXB_51,Pt_LHRDXB_52,Pt_LHRDXB_53,Pt_LHRDXB_54,Pt_LHRDXB_55,Pt_LHRDXB_56,Pt_LHRDXB_57,Pt_LHRDXB_58,Pt_LHRDXB_59,Pt_LHRDXB_60,
Pt_LHRDXB_61,Pt_LHRDXB_62,Pt_LHRDXB_63,Pt_LHRDXB_64,Pt_LHRDXB_65,Pt_LHRDXB_66,Pt_LHRDXB_67,Pt_LHRDXB_68,Pt_LHRDXB_69,Pt_LHRDXB_70,
Pt_LHRDXB_71,Pt_LHRDXB_72,Pt_LHRDXB_73,Pt_LHRDXB_74,Pt_LHRDXB_75,Pt_LHRDXB_76,Pt_LHRDXB_77,Pt_LHRDXB_78,Pt_LHRDXB_79,Pt_LHRDXB_80,
Pt_LHRDXB_81,Pt_LHRDXB_82,Pt_LHRDXB_83,Pt_LHRDXB_84,Pt_LHRDXB_85,Pt_LHRDXB_86,Pt_LHRDXB_87,Pt_LHRDXB_88,Pt_LHRDXB_89,Pt_LHRDXB_90,
Pt_LHRDXB_91,Pt_LHRDXB_92,Pt_LHRDXB_93,Pt_LHRDXB_94,Pt_LHRDXB_95,Pt_LHRDXB_96,Pt_LHRDXB_97,Pt_LHRDXB_98,Pt_LHRDXB_99,Pt_LHRDXB_100,
Pt_LHRDXB_101,Pt_LHRDXB_102,Pt_LHRDXB_103,Pt_LHRDXB_104,Pt_LHRDXB_105,Pt_LHRDXB_106,Pt_LHRDXB_107,Pt_LHRDXB_108,Pt_LHRDXB_109,Pt_LHRDXB_110,
Pt_LHRDXB_111,Pt_LHRDXB_112,Pt_LHRDXB_113,Pt_LHRDXB_114,Pt_LHRDXB_115,Pt_LHRDXB_116,Pt_LHRDXB_117,Pt_LHRDXB_118,Pt_LHRDXB_119,Pt_LHRDXB_120,
Pt_LHRDXB_121,Pt_LHRDXB_122,Pt_LHRDXB_123,Pt_LHRDXB_124,Pt_LHRDXB_125,Pt_LHRDXB_126,Pt_LHRDXB_127,Pt_LHRDXB_128,Pt_LHRDXB_129,Pt_LHRDXB_130,
Pt_LHRDXB_131,Pt_LHRDXB_132,Pt_LHRDXB_133,Pt_LHRDXB_134,Pt_LHRDXB_135,Pt_LHRDXB_136,Pt_LHRDXB_137,Pt_LHRDXB_138,Pt_LHRDXB_139,Pt_LHRDXB_140,
Pt_LHRDXB_141,Pt_LHRDXB_142,Pt_LHRDXB_143,Pt_LHRDXB_144,Pt_LHRDXB_145,Pt_LHRDXB_146,Pt_LHRDXB_147,Pt_LHRDXB_148,Pt_LHRDXB_149,Pt_LHRDXB_150,
Pt_LHRDXB_151,Pt_LHRDXB_152,Pt_LHRDXB_153,Pt_LHRDXB_154,Pt_LHRDXB_155,Pt_LHRDXB_156,Pt_LHRDXB_157,Pt_LHRDXB_158,Pt_LHRDXB_159,Pt_LHRDXB_160,
Pt_LHRDXB_161,Pt_LHRDXB_162,Pt_LHRDXB_163,Pt_LHRDXB_164,Pt_LHRDXB_165,Pt_LHRDXB_166,Pt_LHRDXB_167,Pt_LHRDXB_168,Pt_LHRDXB_169,Pt_LHRDXB_170,
Pt_LHRDXB_171,Pt_LHRDXB_172,Pt_LHRDXB_173,Pt_LHRDXB_174,Pt_LHRDXB_175,Pt_LHRDXB_176,Pt_LHRDXB_177,Pt_LHRDXB_178,Pt_LHRDXB_179,Pt_LHRDXB_180,
Pt_LHRDXB_181,Pt_LHRDXB_182,Pt_LHRDXB_183,Pt_LHRDXB_184,Pt_LHRDXB_185,Pt_LHRDXB_186,Pt_LHRDXB_187,Pt_LHRDXB_188,Pt_LHRDXB_189,Pt_LHRDXB_190,
Pt_LHRDXB_191,Pt_LHRDXB_192,Pt_LHRDXB_193,Pt_LHRDXB_194,Pt_LHRDXB_195,Pt_LHRDXB_196,Pt_LHRDXB_197,Pt_LHRDXB_198,Pt_LHRDXB_199,Pt_LHRDXB_200,
Pt_LHRDXB_201,Pt_LHRDXB_202,Pt_LHRDXB_203,Pt_LHRDXB_204,Pt_LHRDXB_205,Pt_LHRDXB_206,Pt_LHRDXB_207,Pt_LHRDXB_208,Pt_LHRDXB_209,Pt_LHRDXB_210,
Pt_LHRDXB_211,Pt_LHRDXB_212,Pt_LHRDXB_213,Pt_LHRDXB_214,Pt_LHRDXB_215,Pt_LHRDXB_216,Pt_LHRDXB_217,Pt_LHRDXB_218,Pt_LHRDXB_219,Pt_LHRDXB_220,
Pt_LHRDXB_221,Pt_LHRDXB_222,Pt_LHRDXB_223,Pt_LHRDXB_224,Pt_LHRDXB_225,Pt_LHRDXB_226,Pt_LHRDXB_227,Pt_LHRDXB_228,Pt_LHRDXB_229,Pt_LHRDXB_230,
Pt_LHRDXB_231,Pt_LHRDXB_232,Pt_LHRDXB_233,Pt_LHRDXB_234,Pt_LHRDXB_235,Pt_LHRDXB_236,Pt_LHRDXB_237,Pt_LHRDXB_238,
Dubai_LHR], { color: '#be742aff' }).addTo(map);


// London â†’ Dubai ã¸æ»‘ã‚‰ã‹ã«ç§»å‹•ã™ã‚‹é–¢æ•°
//ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²ã‚’ç„¡åˆ¶é™åˆ¶é™
map.on('popupopen', function (e) {
  const DubaiBtn = document.getElementById('HeathrowToDubaiCard');
  if (DubaiBtn) {
    const newBtn = DubaiBtn.cloneNode(true);
    DubaiBtn.parentNode.replaceChild(newBtn, DubaiBtn);

    newBtn.addEventListener('click', () => {
      if (!animationRunning) {
        goToDubai();
      }
    });
  }
  })

function goToDubai() {
  if (animationRunning) return; // â† ã™ã§ã«å‹•ã„ã¦ã„ãŸã‚‰ä½•ã‚‚ã—ãªã„
  animationRunning = true;

  markerHeathrowTerminal3.closePopup(); // â† ç§»å‹•å‰ã«Londonï¼ˆå§‹ç™ºï¼‰ã®ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’é–‰ã˜ã‚‹

  // ðŸš„ ã‚¢ã‚¤ã‚³ãƒ³ä»˜ããƒžãƒ¼ã‚«ãƒ¼ã‚’è¡¨ç¤ºï¼ˆåˆæœŸä½ç½®ï¼‰
  const trainIcon = L.icon({
    iconUrl: "image/icon/train_test.png",// ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒã®URL
    iconRetinaUrl:"image/icon/train_test@2x.png",
    iconSize: [40, 40],
    iconAnchor: [25, 25],
    className: "icon-train"
  });

  const trainMarker = L.marker(Heathrow_DXB, { icon: trainIcon }).addTo(map);

  const fullPath = interpolatePolyline(LHRtoDXB , 50);// â† æ•°å­—ãŒå°‘ãªã„ã»ã©ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¢ãƒƒãƒ—

  const DubaiIndex = fullPath.findIndex(p => 
    Math.abs(p[0] - Dubai_LHR[0]) < 0.0001 && 
    Math.abs(p[1] - Dubai_LHR[1]) < 0.0001
  );

  const pathToDubai = fullPath.slice(0, DubaiIndex + 1);
  // âœ… ã“ã“ã« animatePath ã‚’å®šç¾©
  const totalFrames = pathToDubai.length;
  let frame = 0;

  function animate() {
   
   const index = frame;

    if (index < pathToDubai.length) {
      trainMarker.setLatLng(pathToDubai[index]); // â† ãƒžãƒ¼ã‚«ãƒ¼ã‚’ç§»å‹•
      map.panTo(pathToDubai[index], { animate: true, duration: 0.03 });
      frame++;
      setTimeout(animate, 20); // â† é€Ÿåº¦èª¿æ•´ï¼ˆæ•°å­—ãŒå°‘ãªã„ã»ã©ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¢ãƒƒãƒ—ï¼‰50åº§æ¨™ Ã— 30ms = ç´„1.5ç§’
    } else {
      setTimeout(() => {
        markerDubai.openPopup();
        map.removeLayer(trainMarker); // ã‚¢ã‚¤ã‚³ãƒ³ã‚’å‰Šé™¤
        animationRunning = false;
      }, 300);

    }
  }
  animate();
}

// Dubaiã€€â†’ã€€Londonã¸æ»‘ã‚‰ã‹ã«æˆ»ã‚‹é–¢æ•°
//ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²ã‚’ç„¡åˆ¶é™åˆ¶é™
map.on('popupopen', function (e) {
  const DubaiToLondonBtn = document.getElementById('DubaiToHeathrowCard');
  if (DubaiToLondonBtn) {
    const newBtn = DubaiToLondonBtn.cloneNode(true);
    DubaiToLondonBtn.parentNode.replaceChild(newBtn, DubaiToLondonBtn);

    newBtn.addEventListener('click', () => {
      if (!animationRunning) {
        DubaiToLondon();
      }
    });
  }
  })

function DubaiToLondon() {
  if (animationRunning) return; // â† ã™ã§ã«å‹•ã„ã¦ã„ãŸã‚‰ä½•ã‚‚ã—ãªã„
  animationRunning = true;

  markerDubai.closePopup(); // â† ç§»å‹•å‰ã«Dubaiã®ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’é–‰ã˜ã‚‹

  // ðŸš„ ã‚¢ã‚¤ã‚³ãƒ³ä»˜ããƒžãƒ¼ã‚«ãƒ¼ã‚’è¡¨ç¤ºï¼ˆåˆæœŸä½ç½®ï¼‰
  const trainIcon = L.icon({
    iconUrl: "image/icon/train_test.png",// ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒã®URL
    iconRetinaUrl:"image/icon/train_test@2x.png",
    iconSize: [40, 40],
    iconAnchor: [25, 25],
    className: "icon-train"
  });

  const trainMarker = L.marker(Dubai_LHR, { icon: trainIcon }).addTo(map);

  const fullPath = [...interpolatePolyline(LHRtoDXB, 50)].reverse();// â† æ•°å­—ãŒå°‘ãªã„ã»ã©ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¢ãƒƒãƒ—

  const DubaiToLondonIndex = fullPath.findIndex(p => 
    Math.abs(p[0] - Heathrow_DXB[0]) < 0.0001 && 
    Math.abs(p[1] - Heathrow_DXB[1]) < 0.0001
  );

  const pathToDubaiToLondon = fullPath.slice(0, DubaiToLondonIndex + 1);
  
// æœ€åˆã«ã‚¸ãƒ£ãƒ³ãƒ—ã‚’é˜²ã
  map.panTo(pathToDubaiToLondon[0], { animate: false });


  let frame = 0;

  function animate() {
   
   const index = frame;

    if (index < pathToDubaiToLondon.length) {
      trainMarker.setLatLng(pathToDubaiToLondon[index]); // â† ãƒžãƒ¼ã‚«ãƒ¼ã‚’ç§»å‹•
      map.panTo(pathToDubaiToLondon[index], { animate: true, duration: 0.25 });
      frame++;
      setTimeout(animate, 5); // â† é€Ÿåº¦èª¿æ•´ï¼ˆæ•°å­—ãŒå°‘ãªã„ã»ã©ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¢ãƒƒãƒ—ï¼‰
    } else {
      setTimeout(() => {
        markerHeathrowTerminal3.openPopup();
        map.removeLayer(trainMarker); // ã‚¢ã‚¤ã‚³ãƒ³ã‚’å‰Šé™¤
        animationRunning = false;
      }, 100);

    }
  }
  animate();
}